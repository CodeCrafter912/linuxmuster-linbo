--- cloop-2.625/advfs.cc	2006-12-04 00:07:02.000000000 +0100
+++ cloop-2.625/advfs.cc	2008-11-13 17:50:54.000000000 +0100
@@ -40,6 +40,7 @@
 #include <unistd.h>
 #include <stdlib.h>
 #include <string.h>
+#include <limits.h>
 #include <sys/stat.h>
 #include <pthread.h>
 #include <time.h>
--- cloop-2.625/compressed_loop.c	2008-05-27 13:49:45.000000000 +0200
+++ cloop-2.625/compressed_loop.c	2008-11-13 18:57:52.000000000 +0100
@@ -46,7 +46,9 @@
 #include <linux/major.h>
 #include <linux/vmalloc.h>
 #include <linux/slab.h>
+/* deprecated since 2.6.27
 #include <asm/semaphore.h>
+ */
 #include <asm/div64.h> /* do_div() for 64bit division */
 #include <asm/uaccess.h>
 #include <asm/byteorder.h>
